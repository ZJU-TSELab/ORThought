A large manufacturing enterprise needs to ship a consignment of 1,000 tons of goods from its factory in City F to a distribution center in City D. There are three potential transportation routes available. Each route is composed of segments using different modes of transport (road or rail). The transportation cost for each segment is calculated based on a per ton-kilometer rate. Furthermore, certain road segments are subject to a congestion fee to account for the social costs of traffic. This fee is non-linear and is calculated as `Congestion Coefficient * (Total Traffic Flow)^2`. The total traffic flow on a segment is the sum of the cargo shipped by the enterprise and the existing background traffic from other companies.

The details for the three routes are provided in the Table 1. For congested segments, the existing background traffic is also listed.

Table 1: Route Details

| Route | Segment | Mode | Distance (km) | Base Fee ($/ton-km) | Congestion Coefficient | Background Traffic (tons) |
| ----- | ------- | ---- | ------------- | ------------------- | ---------------------- | ------------------------- |
| 1     | 1A      | Road | 150           | 2.00                | 5×10−7                 | 2,000                     |
|       | 1B      | Rail | 500           | 0.80                | -                      | -                         |
| 2     | 2A      | Road | 200           | 2.10                | -                      | -                         |
|       | 2B      | Road | 350           | 1.90                | 8×10−7                 | 1,500                     |
| 3     | 3A      | Road | 100           | 2.20                | -                      | -                         |
|       | 3B      | Rail | 600           | 0.75                | -                      | -                         |

How should the enterprise allocate the shipment of 1,000 tons of goods across the three routes to minimize the total transportation cost?